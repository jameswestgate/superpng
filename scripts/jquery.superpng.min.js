/*
 * A png fixing plug-in for IE6
 * 
 * Based on methods found in Supersleight (Drew McLellan) and DD_belated png fix (Drew Diller).
 * Author: James Westgate (2011)
 * http://www.opencomponents.com
 * 
 * Version 1.00
 * 
 * @requires jQuery 1.4
 */

 (function(c){var b,i=true,h;c.fn.superpng=function(l){if(!(!c.browser.msie||parseInt(c.browser.version,10)>6)){if(b==null)b=c.extend({},{cache:true,path:"blank.gif",mode:"auto"},l);b.cache&&document.execCommand("BackgroundImageCache",false,true);return this.each(function(){var a=c(this),d=a.css("background-image"),e=this.vml===undefined;if(!e||b.mode!=="filter"&&d.match(/\.png/i)!==null){d=d.substring(5,d.length-2);a.css("backgroundRepeat");var f=a.css("backgroundPositionX"),j=a.css("backgroundPositionY");
a.css("background-image",["url(",b.path,")"].join(""));if(e&&b.mode!=="vml"&&f===undefined&&j===undefined)a.css("filter",["progid:DXImageTransform.Microsoft.AlphaImageLoader(src='",d,"', sizingMethod='crop')"].join(""));else{if(i){i=false;c("head").append('<style media="screen">vml\\:* {behavior:url(#default#vml);} .superpng-vml {position: absolute; top:0; left:0; z-index:0; margin: 0}</style>');h="px"}var g=a.width(),k=a.height();f=[parseFloat(f.replace(h,"")/g),",",parseFloat(j.replace(h,"")/k)].join("");
g=["width:",g,"px; height:",k,"px"].join("");if(e){a.wrapInner(['<vml:rect stroked="f" class="superpng-vml" style="',g,'"><vml:fill type="frame" aspect="atmost" src="',d,'" position="',f,'"/></vml:rect>'].join(""));this.vml=c(".superpng-vml",a);a.css("background-image","url("+b.path+")")}else{a=this.vml.children(":first");this.vml.attr("style",g);a.attr("position",f)}}}else if(a.is("img[src$=png]")){e={width:a.width()+"px",height:a.height()+"px",filter:["progid:DXImageTransform.Microsoft.AlphaImageLoader(src='",
a.attr("src"),"', sizingMethod='scale')"].join("")};a.css(e).attr("src",b.path)}})}}})(jQuery);