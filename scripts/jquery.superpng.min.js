/*
 * A png fixing plug-in for IE6
 * 
 * Based on methods found in Supersleight (Drew McLellan) and DD_belated png fix (Drew Diller).
 * Author: James Westgate (2011)
 * http://www.opencomponents.com/superpng
 * 
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *  
 * Version 1.1
 * 
 * @requires jQuery 1.4 or later
 */

(function(c){var b,i=!0,h;c.fn.superpng=function(l){if(c.browser.msie&&!(parseInt(c.browser.version,10)>6))return b==null&&(b=c.extend({},{cache:!0,path:"blank.gif",mode:"auto"},l)),b.cache&&document.execCommand("BackgroundImageCache",!1,!0),this.each(function(){var a=c(this),d=a.css("background-image"),f=this.vml===void 0;if(!f||b.mode!=="filter"&&d.match(/\.png/i)!==null){d=d.substring(5,d.length-2);a.css("backgroundRepeat");var g=a.css("backgroundPositionX"),j=a.css("backgroundPositionY");a.css("background-image",
["url(",b.path,")"].join(""));if(f&&b.mode!=="vml"&&g===void 0&&j===void 0)a.css("filter",["progid:DXImageTransform.Microsoft.AlphaImageLoader(src='",d,"', sizingMethod='crop')"].join(""));else{i&&(i=!1,c("head").append('<style media="screen">vml\\:* {behavior:url(#default#vml);} .superpng-container {position:relative; margin:0; display:block;} .superpng-vml {position: absolute; top:0; left:0; z-index:0; margin:0}</style>'),h="px");var e=a.width(),k=a.height(),g=[parseFloat(g.replace(h,"")/e),",",
parseFloat(j.replace(h,"")/k)].join(""),e=["width:",e,"px; height:",k,"px"].join("");f?(a.wrapInner(['<div class="superpng-container" style="',e,'"><vml:rect stroked="f" class="superpng-vml" style="',e,'"><vml:fill type="tile" src="',d,'" position="',g,'"/></vml:rect></div>'].join("")),this.vml=c(".superpng-vml",a),a.css("background-image","url("+b.path+")")):(a=this.vml.children(":first"),this.vml.attr("style",e),a.attr("position",g))}}else a.is("img[src$=png]")&&(f={width:a.width()+"px",height:a.height()+
"px",filter:["progid:DXImageTransform.Microsoft.AlphaImageLoader(src='",a.attr("src"),"', sizingMethod='scale')"].join("")},a.css(f).attr("src",b.path))})}})(jQuery);